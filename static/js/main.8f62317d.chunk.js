(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{105:function(t,e,n){},106:function(t,e,n){},132:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n.n(c);n(105),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(106);var i=n(11),r=n(203),o=n(202),s=n(24),u="APP_SET_STATUS",d="APP_SET_ERROR",l={status:"idle",error:null},j=function(t){return{type:u,status:t}},b=function(t){return{type:d,error:t}},f=n(2),O=a.a.forwardRef((function(t,e){return Object(f.jsx)(o.a,Object(i.a)({elevation:6,ref:e,variant:"filled"},t))}));function h(){var t=Object(s.c)((function(t){return t.app.error})),e=Object(s.b)(),n=function(t,n){"clickaway"!==n&&e(b(null))};return Object(f.jsx)(r.a,{open:!!t,autoHideDuration:6e3,onClose:n,anchorOrigin:{horizontal:"right",vertical:"bottom"},children:Object(f.jsx)(O,{onClose:n,severity:"error",sx:{width:"100%"},children:t})})}var m,p,v=n(190),g=n(191),x=n(192),y=n(193),T=n(134),k=n(186),C=function(){return Object(f.jsx)(k.a,{position:"static",children:Object(f.jsxs)(v.a,{style:{justifyContent:"space-between"},children:[Object(f.jsx)(g.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(f.jsx)(x.a,{})}),Object(f.jsx)(y.a,{variant:"h6",children:"TodoLists"}),Object(f.jsx)(T.a,{color:"inherit",variant:"outlined",children:"Login"})]})})},I=n(199),S=n(15),w=n(201),L=n(195),E=Object(c.memo)((function(t){var e=t.addItem,n=t.label,a=t.disabled,i=Object(c.useState)(""),r=Object(S.a)(i,2),o=r[0],s=r[1],u=Object(c.useState)(null),d=Object(S.a)(u,2),l=d[0],j=d[1],b=function(){""!==o.trim()?(e(o.trim()),s("")):j("Title is required")};return Object(f.jsxs)("div",{children:[Object(f.jsx)(w.a,{id:"standard-basic",label:n,disabled:a,value:o,onChange:function(t){l&&j(null),s(t.currentTarget.value)},onKeyPress:function(t){l&&j(null),13===t.charCode&&b()},className:l?"error":"",size:"small",error:!!l}),Object(f.jsx)(g.a,{onClick:b,disabled:a,children:Object(f.jsx)(L.a,{})}),l&&Object(f.jsx)("div",{className:"error-message",children:l})]})})),_=n(200),A=n(133),D=Object(c.memo)((function(t){var e=t.title,n=t.changeTitle,a=Object(c.useState)(e),i=Object(S.a)(a,2),r=i[0],o=i[1],s=Object(c.useState)(!1),u=Object(S.a)(s,2),d=u[0],l=u[1],j=function(){l(!1),n(r)};return d?Object(f.jsx)(w.a,{id:"outlined-basic",autoFocus:!0,value:r,onChange:function(t){o(t.currentTarget.value)},onBlur:j,onKeyPress:function(t){return"Enter"===t.key&&j()},size:"small"}):Object(f.jsx)("span",{onDoubleClick:function(){l(!0)},children:e})})),N=n(196),P=Object(c.memo)((function(t){var e=t.title,n=t.removeTodoList,c=t.changeTitle,a=t.entityStatus;return Object(f.jsxs)("h3",{style:{textAlign:"center"},children:[Object(f.jsx)(D,{title:e,changeTitle:c}),Object(f.jsx)(g.a,{"aria-label":"delete",onClick:function(){return n()},disabled:"loading"===a,children:Object(f.jsx)(N.a,{})})]})})),H=n(197),K=n(204),R=n(18),G=n(9),U=n(92),z=n.n(U).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"a1038b76-ce0b-4e0f-8fa8-c2cb1917e698"}}),M=function(t){return z.post("todo-lists",{title:t})},B=function(t,e){return z.put("/todo-lists/".concat(t),{title:e})},W=function(t){return z.delete("/todo-lists/".concat(t))},F=function(){return z.get("/todo-lists")},J=function(t){return z.get("/todo-lists/".concat(t,"/tasks"))},V=function(t,e){return z.post("/todo-lists/".concat(t,"/tasks"),{title:e})},Y=function(t,e){return z.delete("/todo-lists/".concat(t,"/tasks/").concat(e))},q=function(t,e,n){return z.put("todo-lists/".concat(t,"/tasks/").concat(e),n)};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(m||(m={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(p||(p={}));var $=function(t,e){t.messages.length?e(b(t.messages[0])):e(b("Some error occurred")),e(j("failed"))},Q=function(t,e){e(b(t)),e(j("failed"))},X="REMOVE_TODOLIST",Z="ADD_TODOLIST",tt="SET_TODOLISTS",et="CHANGE_TODOLIST_TITLE",nt="CHANGE_TODOLIST_FILTER",ct="CHANGE_TODOLIST_ENTITY_STATUS",at=[],it=function(t,e){return{type:ct,id:t,entityStatus:e}},rt=function(){return function(t){t(j("loading")),F().then((function(e){var n;t(j("succeeded")),t((n=e.data,{type:tt,todolists:n}))})).catch((function(e){Q(e.message,t)}))}},ot=function(t){return function(e){e(j("loading")),e(it(t,"loading")),W(t).then((function(n){0===n.data.resultCode?(e(j("succeeded")),e(it(t,"succeeded")),e({type:X,id:t})):($(n.data,e),e(it(t,"failed")))})).catch((function(t){Q(t.message,e)}))}},st=function(t){return function(e){e(j("loading")),M(t).then((function(t){var n;0===t.data.resultCode?(e(j("succeeded")),e((n=t.data.data.item,{type:Z,todolist:n}))):$(t.data,e)})).catch((function(t){Q(t.message,e)}))}},ut=function(t,e){return function(n){n(j("loading")),B(t,e).then((function(c){0===c.data.resultCode?(n(j("succeeded")),n(function(t,e){return{type:et,id:t,title:e}}(t,e))):$(c.data,n)})).catch((function(t){Q(t.message,n)}))}},dt="REMOVE_TASK",lt="ADD_TASK",jt="CHANGE_TASK_STATUS",bt="CHANGE_TASK_TITLE",ft="SET_TASKS",Ot={},ht=function(t){return function(e){e(j("loading")),J(t).then((function(n){e(j("succeeded")),e(function(t,e){return{type:ft,tasks:t,todolistId:e}}(n.data.items,t))})).catch((function(t){Q(t.message,e)}))}},mt=function(t,e){return function(n){n(j("loading")),Y(e,t).then((function(c){0===c.data.resultCode?(n(j("succeeded")),n(function(t,e){return{type:dt,taskId:t,todolistId:e}}(t,e))):$(c.data,n)})).catch((function(t){Q(t.message,n)}))}},pt=function(t,e){return function(n){n(j("loading")),V(e,t).then((function(t){0===t.data.resultCode?(n(j("succeeded")),n(function(t,e){return{type:lt,task:t,todolistId:e}}(t.data.data.item,e))):$(t.data,n)})).catch((function(t){Q(t.message,n)}))}},vt=function(t,e,n){return function(c,a){var i=a().tasks[n].find((function(e){return e.id===t}));if(i){var r={deadline:i.deadline,description:i.description,startDate:i.startDate,priority:i.priority,status:i.status,title:e};c(j("loading")),q(n,t,r).then((function(a){0===a.data.resultCode?(c(j("succeeded")),c(function(t,e,n){return{type:bt,taskId:t,title:e,todoListId:n}}(t,e,n))):$(a.data,c)})).catch((function(t){Q(t.message,c)}))}}},gt=function(t,e,n){return function(c,a){var i=a().tasks[n].find((function(e){return e.id===t}));if(i){var r={deadline:i.deadline,description:i.description,startDate:i.startDate,title:i.title,priority:i.priority,status:e};c(j("loading")),q(n,t,r).then((function(a){0===a.data.resultCode?(c(j("succeeded")),c(function(t,e,n){return{type:jt,taskId:t,status:e,todoListId:n}}(t,e,n))):$(a.data,c)})).catch((function(t){Q(t.message,c)}))}}},xt=Object(c.memo)((function(t){var e=t.id,n=t.todolistId,a=Object(s.c)((function(t){return t.tasks[n].filter((function(t){return t.id===e}))[0]})),i=Object(s.b)(),r=Object(c.useCallback)((function(t){var c=t.currentTarget.checked;i(gt(e,c?m.Completed:m.New,n))}),[i,e,n]),o=Object(c.useCallback)((function(t){return i(vt(e,t,n))}),[e,i,n]),u=Object(c.useCallback)((function(){return i(mt(e,n))}),[i,n,e]);return Object(f.jsxs)(H.a,{divider:!0,style:{justifyContent:"space-between"},children:[Object(f.jsxs)("span",{className:a.status===m.Completed?"is-done":"",children:[Object(f.jsx)(K.a,{onChange:r,checked:a.status===m.Completed,color:"primary"}),Object(f.jsx)(D,{title:a.title,changeTitle:o})]}),Object(f.jsx)(g.a,{"aria-label":"delete",size:"small",onClick:u,children:Object(f.jsx)(N.a,{})})]})})),yt=n(194),Tt=n(198),kt=Object(c.memo)((function(t){var e=t.todoListId,n=Object(s.c)((function(t){return t.todolists.filter((function(t){return t.id===e}))[0]})),a=Object(s.c)((function(t){return t.tasks[e]})),i=Object(s.b)();Object(c.useEffect)((function(){i(ht(n.id))}),[i,n.id]);var r=Object(c.useCallback)((function(t){return function(){return i(function(t,e){return{type:nt,id:t,filter:e}}(e,t))}}),[i,e]),o=Object(c.useCallback)((function(t){return i(ut(e,t))}),[e,i]),u=Object(c.useCallback)((function(){return i(ot(e))}),[e,i]),d=Object(c.useCallback)((function(t){return i(pt(t,e))}),[i,e]),l=function(t,e){switch(e){case"active":return t.filter((function(t){return t.status===m.New}));case"completed":return t.filter((function(t){return t.status===m.Completed}));default:return t}}(a,n.filter).map((function(t){return Object(f.jsx)(xt,{todolistId:e,id:t.id},t.id)}));return Object(f.jsxs)("div",{className:"todolist",children:[Object(f.jsx)(P,{title:n.title,removeTodoList:u,changeTitle:o,entityStatus:n.entityStatus}),Object(f.jsx)(E,{disabled:"loading"===n.entityStatus,addItem:d,label:"Add a task"}),Object(f.jsx)(yt.a,{children:l}),Object(f.jsxs)(Tt.a,{color:"primary",size:"small",className:"buttonGroup",fullWidth:!0,style:{marginTop:"10px"},children:[Object(f.jsx)(T.a,{variant:"all"===n.filter?"contained":"outlined",onClick:r("all"),children:"all"}),Object(f.jsx)(T.a,{variant:"active"===n.filter?"contained":"outlined",onClick:r("active"),children:"active"}),Object(f.jsx)(T.a,{variant:"completed"===n.filter?"contained":"outlined",onClick:r("completed"),children:"done"})]})]})})),Ct=function(){var t=Object(s.c)((function(t){return t.todolists})),e=Object(s.b)();Object(c.useEffect)((function(){e(rt())}),[e]);var n=Object(c.useCallback)((function(t){var n=st(t);e(n)}),[e]),a=t.map((function(t){return Object(f.jsx)(I.a,{item:!0,children:Object(f.jsx)(A.a,{elevation:3,children:Object(f.jsx)(kt,{todoListId:t.id})})},t.id)}));return Object(f.jsxs)(_.a,{fixed:!0,children:[Object(f.jsx)(I.a,{container:!0,style:{padding:"25px 0"},children:Object(f.jsx)(E,{addItem:n,label:"Create a new todo"})}),Object(f.jsx)(I.a,{container:!0,spacing:4,children:a})]})},It=n(206),St=function(){var t=Object(s.c)((function(t){return t.app.status}));return Object(f.jsxs)("div",{children:[Object(f.jsx)(C,{}),"loading"===t&&Object(f.jsx)(It.a,{color:"secondary"}),Object(f.jsx)(Ct,{}),Object(f.jsx)(h,{})]})},wt=n(64),Lt=n(93),Et=Object(wt.b)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case dt:return Object(i.a)(Object(i.a)({},t),{},Object(G.a)({},e.todolistId,t[e.todolistId].filter((function(t){return t.id!==e.taskId}))));case lt:return Object(i.a)(Object(i.a)({},t),{},Object(G.a)({},e.todolistId,[e.task].concat(Object(R.a)(t[e.todolistId]))));case jt:return Object(i.a)(Object(i.a)({},t),{},Object(G.a)({},e.todoListId,t[e.todoListId].map((function(t){return t.id===e.taskId?Object(i.a)(Object(i.a)({},t),{},{status:e.status}):t}))));case bt:return Object(i.a)(Object(i.a)({},t),{},Object(G.a)({},e.todoListId,t[e.todoListId].map((function(t){return t.id===e.taskId?Object(i.a)(Object(i.a)({},t),{},{title:e.title}):t}))));case Z:return Object(i.a)(Object(i.a)({},t),{},Object(G.a)({},e.todolist.id,[]));case X:var n=Object(i.a)({},t);return delete n[e.id],n;case tt:var c=Object(i.a)({},t);return e.todolists.forEach((function(t){c[t.id]=[]})),c;case ft:return Object(i.a)(Object(i.a)({},t),{},Object(G.a)({},e.todolistId,Object(R.a)(e.tasks)));default:return t}},todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case X:return t.filter((function(t){return t.id!==e.id}));case Z:return[].concat(Object(R.a)(t),[Object(i.a)(Object(i.a)({},e.todolist),{},{filter:"all",entityStatus:"idle"})]);case et:return t.map((function(t){return t.id===e.id?Object(i.a)(Object(i.a)({},t),{},{title:e.title}):t}));case nt:return t.map((function(t){return t.id===e.id?Object(i.a)(Object(i.a)({},t),{},{filter:e.filter}):t}));case tt:return e.todolists.map((function(t){return Object(i.a)(Object(i.a)({},t),{},{filter:"all",entityStatus:"idle"})}));case ct:return t.map((function(t){return t.id===e.id?Object(i.a)(Object(i.a)({},t),{},{entityStatus:e.entityStatus}):t}));default:return t}},app:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u:return Object(i.a)(Object(i.a)({},t),{},{status:e.status});case d:return Object(i.a)(Object(i.a)({},t),{},{error:e.error});default:return t}}}),_t=Object(wt.c)(Et,Object(wt.a)(Lt.a));window.store=_t;var At=n(14);n.n(At).a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(s.a,{store:_t,children:Object(f.jsx)(St,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[132,1,2]]]);
//# sourceMappingURL=main.8f62317d.chunk.js.map