(this.webpackJsonptodo=this.webpackJsonptodo||[]).push([[0],{72:function(t,e,n){},73:function(t,e,n){},99:function(t,e,n){"use strict";n.r(e);var c=n(0),i=n.n(c);n(72),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(73);var r,a,o=n(15),s=n(144),u=n(5),l=Object(c.memo)((function(t){var e=t.title,n=t.changeTitle,i=Object(c.useState)(e),r=Object(o.a)(i,2),a=r[0],l=r[1],d=Object(c.useState)(!1),j=Object(o.a)(d,2),b=j[0],f=j[1],O=function(){f(!1),n(a)};return b?Object(u.jsx)(s.a,{id:"outlined-basic",autoFocus:!0,value:a,onChange:function(t){l(t.currentTarget.value)},onBlur:O,onKeyPress:function(t){return"Enter"===t.key&&O()},size:"small"}):Object(u.jsx)("span",{onDoubleClick:function(){f(!0)},children:e})})),d=n(134),j=n(133),b=Object(c.memo)((function(t){var e=t.title,n=t.removeTodoList,c=t.changeTitle;return Object(u.jsxs)("h3",{style:{textAlign:"center"},children:[Object(u.jsx)(l,{title:e,changeTitle:c}),Object(u.jsx)(j.a,{"aria-label":"delete",onClick:function(){return n()},children:Object(u.jsx)(d.a,{})})]})})),f=n(135),O=n(145),h=n(19),m=n(17),p=n(12),v=n(9),x=n(63),k=n.n(x).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/",withCredentials:!0,headers:{"API-KEY":"a1038b76-ce0b-4e0f-8fa8-c2cb1917e698"}}),I=function(t){return k.post("todo-lists",{title:t})},T=function(t,e){return k.put("/todo-lists/".concat(t),{title:e})},g=function(t){return k.delete("/todo-lists/".concat(t))},C=function(){return k.get("/todo-lists")},y=function(t){return k.get("/todo-lists/".concat(t,"/tasks"))},L=function(t,e){return k.post("/todo-lists/".concat(t,"/tasks"),{title:e})},w=function(t,e){return k.delete("/todo-lists/".concat(t,"/tasks/").concat(e))},E=function(t,e,n){return k.put("todo-lists/".concat(t,"/tasks/").concat(e),n)};!function(t){t[t.New=0]="New",t[t.InProgress=1]="InProgress",t[t.Completed=2]="Completed",t[t.Draft=3]="Draft"}(r||(r={})),function(t){t[t.Low=0]="Low",t[t.Middle=1]="Middle",t[t.Hi=2]="Hi",t[t.Urgently=3]="Urgently",t[t.Later=4]="Later"}(a||(a={}));var S="REMOVE_TODOLIST",D="ADD_TODOLIST",A="SET_TODOLISTS",_="CHANGE_TODOLIST_TITLE",N="CHANGE_TODOLIST_FILTER",K=[],H=function(){return function(t){C().then((function(e){var n;t((n=e.data,{type:A,todolists:n}))}))}},G=function(t){return function(e){g(t).then((function(n){e({type:S,id:t})}))}},M=function(t){return function(e){I(t).then((function(t){var n;e((n=t.data.data.item,{type:D,todolist:n}))}))}},P=function(t,e){return function(n){T(t,e).then((function(c){n(function(t,e){return{type:_,id:t,title:e}}(t,e))}))}},z="REMOVE_TASK",R="ADD_TASK",U="CHANGE_TASK_STATUS",B="CHANGE_TASK_TITLE",W="SET_TASKS",F={},J=function(t){return function(e){y(t).then((function(n){e(function(t,e){return{type:W,tasks:t,todolistId:e}}(n.data.items,t))}))}},V=function(t,e){return function(n){w(e,t).then((function(c){n(function(t,e){return{type:z,taskId:t,todolistId:e}}(t,e))}))}},q=function(t,e){return function(n){L(e,t).then((function(t){n(function(t,e){return{type:R,task:t,todolistId:e}}(t.data.data.item,e))}))}},Y=function(t,e,n){return function(c,i){var r=i().tasks[n].find((function(e){return e.id===t}));if(r){var a={deadline:r.deadline,description:r.description,startDate:r.startDate,priority:r.priority,status:r.status,title:e};E(n,t,a).then((function(i){c(function(t,e,n){return{type:B,taskId:t,title:e,todoListId:n}}(t,e,n))}))}}},$=function(t,e,n){return function(c,i){var r=i().tasks[n].find((function(e){return e.id===t}));if(r){var a={deadline:r.deadline,description:r.description,startDate:r.startDate,title:r.title,priority:r.priority,status:e};E(n,t,a).then((function(i){c(function(t,e,n){return{type:U,taskId:t,status:e,todoListId:n}}(t,e,n))}))}}},Q=Object(c.memo)((function(t){var e=t.id,n=t.todolistId,i=Object(h.c)((function(t){return t.tasks[n].filter((function(t){return t.id===e}))[0]})),a=Object(h.b)(),o=Object(c.useCallback)((function(t){var c=t.currentTarget.checked;a($(e,c?r.Completed:r.New,n))}),[a,e,n]),s=Object(c.useCallback)((function(t){return a(Y(e,t,n))}),[e,a,n]),b=Object(c.useCallback)((function(){return a(V(e,n))}),[a,n,e]);return Object(u.jsxs)(f.a,{divider:!0,children:[Object(u.jsxs)("span",{className:i.status===r.Completed?"is-done":"",children:[Object(u.jsx)(O.a,{onChange:o,checked:i.status===r.Completed,color:"primary"}),Object(u.jsx)(l,{title:i.title,changeTitle:s})]}),Object(u.jsx)(j.a,{"aria-label":"delete",size:"small",onClick:b,children:Object(u.jsx)(d.a,{})})]})})),X=n(136),Z=Object(c.memo)((function(t){var e=t.addItem,n=t.label,i=Object(c.useState)(""),r=Object(o.a)(i,2),a=r[0],l=r[1],d=Object(c.useState)(null),b=Object(o.a)(d,2),f=b[0],O=b[1],h=function(){""!==a.trim()?(e(a.trim()),l("")):O("Title is required")};return Object(u.jsxs)("div",{children:[Object(u.jsx)(s.a,{id:"standard-basic",label:n,value:a,onChange:function(t){l(t.currentTarget.value)},onKeyPress:function(t){f&&O(null),13===t.charCode&&h()},className:f?"error":"",size:"small",error:!!f}),Object(u.jsx)(j.a,{onClick:h,children:Object(u.jsx)(X.a,{})}),f&&Object(u.jsx)("div",{className:"error-message",children:f})]})})),tt=n(132),et=n(137),nt=n(101),ct=Object(c.memo)((function(t){var e=t.todoListId,n=Object(h.c)((function(t){return t.todolists.filter((function(t){return t.id===e}))[0]})),i=Object(h.c)((function(t){return t.tasks[e]})),a=Object(h.b)();Object(c.useEffect)((function(){a(J(n.id))}),[a,n.id]);var o=Object(c.useCallback)((function(t){return function(){return a(function(t,e){return{type:N,id:t,filter:e}}(e,t))}}),[a,e]),s=Object(c.useCallback)((function(t){return a(P(e,t))}),[e,a]),l=Object(c.useCallback)((function(){return a(G(e))}),[e,a]),d=Object(c.useCallback)((function(t){return a(q(t,e))}),[a,e]),j=function(t,e){switch(e){case"active":return t.filter((function(t){return t.status===r.New}));case"completed":return t.filter((function(t){return t.status===r.Completed}));default:return t}}(i,n.filter).map((function(t){return Object(u.jsx)(Q,{todolistId:e,id:t.id},t.id)}));return Object(u.jsxs)("div",{className:"todolist",children:[Object(u.jsx)(b,{title:n.title,removeTodoList:l,changeTitle:s}),Object(u.jsx)(Z,{addItem:d,label:"Enter a task"}),Object(u.jsx)(tt.a,{children:j}),Object(u.jsxs)(et.a,{color:"primary",size:"small",className:"buttonGroup",fullWidth:!0,style:{marginTop:"10px"},children:[Object(u.jsx)(nt.a,{variant:"all"===n.filter?"contained":"outlined",onClick:o("all"),children:"all"}),Object(u.jsx)(nt.a,{variant:"active"===n.filter?"contained":"outlined",onClick:o("active"),children:"active"}),Object(u.jsx)(nt.a,{variant:"completed"===n.filter?"contained":"outlined",onClick:o("completed"),children:"completed"})]})]})})),it=n(138),rt=n(100),at=n(139),ot=n(140),st=n(142),ut=n(143),lt=n(141),dt=function(){var t=Object(h.c)((function(t){return t.todolists})),e=Object(h.b)();Object(c.useEffect)((function(){e(H())}),[e]);var n=Object(c.useCallback)((function(t){var n=M(t);e(n)}),[e]),i=t.map((function(t){return Object(u.jsx)(it.a,{item:!0,children:Object(u.jsx)(rt.a,{elevation:3,children:Object(u.jsx)(ct,{todoListId:t.id})})},t.id)}));return Object(u.jsxs)("div",{children:[Object(u.jsx)(at.a,{position:"static",children:Object(u.jsxs)(ot.a,{style:{justifyContent:"space-between"},children:[Object(u.jsx)(j.a,{edge:"start",color:"inherit","aria-label":"menu",children:Object(u.jsx)(lt.a,{})}),Object(u.jsx)(st.a,{variant:"h6",children:"TodoLists"}),Object(u.jsx)(nt.a,{color:"inherit",variant:"outlined",children:"Login"})]})}),Object(u.jsxs)(ut.a,{fixed:!0,children:[Object(u.jsx)(it.a,{container:!0,style:{padding:"25px 0"},children:Object(u.jsx)(Z,{addItem:n,label:"Enter a new TodoList"})}),Object(u.jsx)(it.a,{container:!0,spacing:4,children:i})]})]})},jt=n(42),bt=n(64),ft=Object(jt.b)({tasks:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case z:return Object(v.a)(Object(v.a)({},t),{},Object(p.a)({},e.todolistId,t[e.todolistId].filter((function(t){return t.id!==e.taskId}))));case R:return Object(v.a)(Object(v.a)({},t),{},Object(p.a)({},e.todolistId,[e.task].concat(Object(m.a)(t[e.todolistId]))));case U:return Object(v.a)(Object(v.a)({},t),{},Object(p.a)({},e.todoListId,t[e.todoListId].map((function(t){return t.id===e.taskId?Object(v.a)(Object(v.a)({},t),{},{status:e.status}):t}))));case B:return Object(v.a)(Object(v.a)({},t),{},Object(p.a)({},e.todoListId,t[e.todoListId].map((function(t){return t.id===e.taskId?Object(v.a)(Object(v.a)({},t),{},{title:e.title}):t}))));case D:return Object(v.a)(Object(v.a)({},t),{},Object(p.a)({},e.todolist.id,[]));case S:var n=Object(v.a)({},t);return delete n[e.id],n;case A:var c=Object(v.a)({},t);return e.todolists.forEach((function(t){c[t.id]=[]})),c;case W:return Object(v.a)(Object(v.a)({},t),{},Object(p.a)({},e.todolistId,Object(m.a)(e.tasks)));default:return t}},todolists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case S:return t.filter((function(t){return t.id!==e.id}));case D:return[].concat(Object(m.a)(t),[Object(v.a)(Object(v.a)({},e.todolist),{},{filter:"all"})]);case _:return t.map((function(t){return t.id===e.id?Object(v.a)(Object(v.a)({},t),{},{title:e.title}):t}));case N:return t.map((function(t){return t.id===e.id?Object(v.a)(Object(v.a)({},t),{},{filter:e.filter}):t}));case A:return e.todolists.map((function(t){return Object(v.a)(Object(v.a)({},t),{},{filter:"all"})}));default:return t}}}),Ot=Object(jt.c)(ft,Object(jt.a)(bt.a));window.store=Ot;var ht=n(10);n.n(ht).a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(h.a,{store:Ot,children:Object(u.jsx)(dt,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[99,1,2]]]);
//# sourceMappingURL=main.82d0e059.chunk.js.map